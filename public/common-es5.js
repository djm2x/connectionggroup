var __generator=this&&this.__generator||function(n,e){var t,l,i,o,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,l&&(i=2&o[0]?l.return:o[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,o[1])).done)return i;switch(l=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,l=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){r=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(6===o[0]&&r.label<i[1]){r.label=i[1],i=o;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(o);break}i[2]&&r.ops.pop(),r.trys.pop();continue}o=e.call(n,r)}catch(s){o=[6,s],l=0}finally{t=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"5WMv":function(n,e,t){"use strict";t.d(e,"a",(function(){return o}));var l=t("mrSG"),i=t("XNiG"),o=function(){function n(n,e){this.filesService=n,this.url=e,this.listOfNames=[],this.imagesToShow=[],this.listToDelete=[],this.files=[],this.nameBtn="",this.folderToSaveInServer="folder",this.multiple=!1,this.oneImage="assets/404.jpg",this.Images=[],this.propertyOfParent=new i.a,this.eventSubmitToParent=new i.a,this.eventSubmitFromParent=new i.a}return n.prototype.ngOnInit=function(){var n=this;this.propertyOfParent.subscribe((function(e){var t=e?e.split(";"):[];if(t.pop(),n.listOfNames=t,n.listToDelete=[],console.log(t),n.multiple)t.forEach((function(e,t){var l=e;if(null!==l&&l.startsWith("http"))n.Images[t]={name:l,image:l};else if(l){var i=n.url+"/"+n.folderToSaveInServer.replace("_","/")+"/"+l;n.Images[t]={name:i,image:i}}else n.Images[t]={name:"assets/404.jpg",image:"assets/404.jpg"}}));else{var l=0!==t.length?t[0]:null;n.oneImage=null!==l&&l.startsWith("http")?l:l?n.url+"/"+n.folderToSaveInServer+"/"+l:"assets/404.jpg"}})),this.eventSubmitFromParent.subscribe((function(e){return l.a(n,void 0,void 0,(function(){return __generator(this,(function(n){switch(n.label){case 0:return[4,this.submit(e)];case 1:return n.sent(),[2]}}))}))}))},n.prototype.upload=function(n){var e=this;if(this.multiple)for(var t=0;t<n.length;t++){var l=n.item(t);this.listOfNames.push(this.setFileName(l)),this.sendPropertyOfParent(),this.files.push(l),this.files.forEach((function(n,t){var l=new FileReader;l.onload=function(){-1===e.Images.findIndex((function(t){return e.setFileName(n).includes(t.name)}))&&e.Images.push({name:e.setFileName(n),image:l.result.toString()})},l.readAsDataURL(n)}))}else{l=n.item(0);this.listOfNames=[],this.listOfNames.push(this.setFileName(l)),this.sendPropertyOfParent(),this.files=[],this.files.push(l),this.handleFileInput(l)}},n.prototype.fileToImageFrom=function(){},n.prototype.handleFileInput=function(n){var e=this,t=new FileReader;t.onload=function(){return e.oneImage=t.result.toString()},t.readAsDataURL(n)},n.prototype.imgError=function(n){n.src="assets/404.jpg"},n.prototype.setIcon=function(n){var e=n.lastIndexOf("."),t=n.substring(e+1);return"pdf"===t||"pdf;"===t?"assets/svg/pdf.svg":"assets/svg/word.svg"},n.prototype.removeFromImages=function(n){var e=this.Images.findIndex((function(e){return n.includes(e.name)}));this.Images.splice(e,1);var t=this.listOfNames.findIndex((function(e){return n.includes(e)}));this.listToDelete.push(this.listOfNames[t]),-1!==t&&(this.listOfNames.splice(t,1),this.sendPropertyOfParent());var l=n.indexOf("_"),i=n.substring(l);-1!==this.files.findIndex((function(n){return n.name===i}))&&this.files.splice(t,1)},n.prototype.remove=function(n){var e=this.listOfNames.findIndex((function(e){return n.includes(e)}));this.listToDelete.push(this.listOfNames[e]),-1!==e&&(this.listOfNames.splice(e,1),this.sendPropertyOfParent());var t=n.indexOf("_"),l=n.substring(t);-1!==this.files.findIndex((function(n){return n.name===l}))&&this.files.splice(e,1),this.oneImage="assets/404.jpg"},n.prototype.openInput=function(n){n.click()},n.prototype.sendPropertyOfParent=function(){var n="";this.listOfNames.forEach((function(e){n+=e+";"})),this.eventSubmitToParent.next(n)},n.prototype.submit=function(n){return l.a(this,void 0,void 0,(function(){var e,t,l,i=this;return __generator(this,(function(o){switch(o.label){case 0:return e=new FormData,this.files.forEach((function(n){var t=i.setFileName(n);e.append("file",n,t),console.log(n)})),e?(n.id&&!this.folderToSaveInServer.includes("_")&&(this.folderToSaveInServer=this.folderToSaveInServer+"_"+n.id),[4,this.filesService.uploadFiles(e,this.folderToSaveInServer).toPromise()]):[3,3];case 1:return t=o.sent(),[4,this.filesService.deleteFiles(this.listToDelete,this.folderToSaveInServer).toPromise()];case 2:l=o.sent(),console.log(t,l),o.label=3;case 3:return[2]}}))}))},n.prototype.setFileName=function(n){return n.lastModified+"_"+n.name},n}()},"Dau+":function(n,e,t){"use strict";var l=t("8Y7J"),i=t("bujt"),o=t("Fwaw"),r=t("5GAg"),s=t("omvX"),a=t("Mr+X"),u=t("Gi4r"),c=t("SVse");t("5WMv"),t("WTxg"),t.d(e,"a",(function(){return f})),t.d(e,"b",(function(){return h}));var f=l.qb({encapsulation:0,styles:[["img[_ngcontent-%COMP%]{height:20px}"]],data:{}});function m(n){return l.Ob(0,[(n()(),l.sb(0,0,null,null,6,"div",[["style","font-size: .7em;margin: 0;"]],null,null,null,null,null)),(n()(),l.sb(1,0,[["img",1]],null,0,"img",[["style","width: 70px; height: 70px;"]],[[8,"src",4]],[[null,"error"]],(function(n,e,t){var i=!0;return"error"===e&&(i=!1!==n.component.imgError(l.Eb(n,1))&&i),i}),null,null)),(n()(),l.sb(2,0,null,null,4,"button",[["color","warn"],["mat-icon-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.removeFromImages(n.context.$implicit.name)&&l),l}),i.b,i.a)),l.rb(3,180224,null,0,o.b,[l.k,r.h,[2,s.a]],{color:[0,"color"]},null),(n()(),l.sb(4,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"],["style","font-size: 1.3em !important;"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,a.b,a.a)),l.rb(5,9158656,null,0,u.b,[l.k,u.d,[8,null],[2,u.a],[2,l.l]],null,null),(n()(),l.Mb(-1,0,["delete_sweep"]))],(function(n,e){n(e,3,0,"warn"),n(e,5,0)}),(function(n,e){n(e,1,0,e.context.$implicit.image),n(e,2,0,l.Eb(e,3).disabled||null,"NoopAnimations"===l.Eb(e,3)._animationMode),n(e,4,0,l.Eb(e,5).inline,"primary"!==l.Eb(e,5).color&&"accent"!==l.Eb(e,5).color&&"warn"!==l.Eb(e,5).color)}))}function p(n){return l.Ob(0,[(n()(),l.sb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),l.hb(16777216,null,null,1,null,m)),l.rb(2,278528,null,0,c.l,[l.O,l.L,l.r],{ngForOf:[0,"ngForOf"]},null),(n()(),l.hb(0,null,null,0))],(function(n,e){n(e,2,0,e.component.Images)}),null)}function b(n){return l.Ob(0,[(n()(),l.sb(0,0,[["img",1]],null,0,"img",[["style","width: 70px; height: 70px;"]],[[8,"src",4]],[[null,"error"]],(function(n,e,t){var i=!0;return"error"===e&&(i=!1!==n.component.imgError(l.Eb(n,0))&&i),i}),null,null)),(n()(),l.sb(1,0,null,null,4,"button",[["color","warn"],["mat-icon-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,e,t){var l=!0,i=n.component;return"click"===e&&(l=!1!==i.remove(i.oneImage)&&l),l}),i.b,i.a)),l.rb(2,180224,null,0,o.b,[l.k,r.h,[2,s.a]],{color:[0,"color"]},null),(n()(),l.sb(3,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"],["style","font-size: 1.3em !important;"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,a.b,a.a)),l.rb(4,9158656,null,0,u.b,[l.k,u.d,[8,null],[2,u.a],[2,l.l]],null,null),(n()(),l.Mb(-1,0,["delete_sweep"]))],(function(n,e){n(e,2,0,"warn"),n(e,4,0)}),(function(n,e){n(e,0,0,e.component.oneImage),n(e,1,0,l.Eb(e,2).disabled||null,"NoopAnimations"===l.Eb(e,2)._animationMode),n(e,3,0,l.Eb(e,4).inline,"primary"!==l.Eb(e,4).color&&"accent"!==l.Eb(e,4).color&&"warn"!==l.Eb(e,4).color)}))}function h(n){return l.Ob(0,[(n()(),l.sb(0,0,null,null,11,"div",[["class","d-flex mb-3 align-items-center"]],null,null,null,null,null)),(n()(),l.sb(1,0,[["file1",1]],null,0,"input",[["accept","image/*"],["hidden",""],["multiple",""],["type","file"]],null,[[null,"change"]],(function(n,e,t){var l=!0;return"change"===e&&(l=!1!==n.component.upload(t.target.files)&&l),l}),null,null)),(n()(),l.sb(2,0,null,null,5,"button",[["color","accent"],["mat-raised-button",""],["style","height: fit-content;"],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,e,t){var i=!0;return"click"===e&&(i=!1!==n.component.openInput(l.Eb(n,1))&&i),i}),i.b,i.a)),l.rb(3,180224,null,0,o.b,[l.k,r.h,[2,s.a]],{color:[0,"color"]},null),(n()(),l.sb(4,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,a.b,a.a)),l.rb(5,9158656,null,0,u.b,[l.k,u.d,[8,null],[2,u.a],[2,l.l]],null,null),(n()(),l.Mb(-1,0,["add"])),(n()(),l.Mb(7,0,[" "," "])),(n()(),l.Mb(-1,null,[" \xa0\xa0 "])),(n()(),l.hb(16777216,null,null,1,null,p)),l.rb(10,16384,null,0,c.m,[l.O,l.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),l.hb(0,[["elseTemplate",2]],null,0,null,b))],(function(n,e){var t=e.component;n(e,3,0,"accent"),n(e,5,0),n(e,10,0,t.multiple,l.Eb(e,11))}),(function(n,e){var t=e.component;n(e,2,0,l.Eb(e,3).disabled||null,"NoopAnimations"===l.Eb(e,3)._animationMode),n(e,4,0,l.Eb(e,5).inline,"primary"!==l.Eb(e,5).color&&"accent"!==l.Eb(e,5).color&&"warn"!==l.Eb(e,5).color),n(e,7,0,t.nameBtn)}))}},fHMi:function(n,e,t){"use strict";t.d(e,"a",(function(){return l}));var l=function(){}}}]);